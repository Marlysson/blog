<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Daily Development</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <link rel="shortcut icon" href="https://marlysson.github.io/staticfiles/favicon.ico">
        <link rel="icon" href="https://marlysson.github.io/staticfiles/favicon.ico"/>

        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="imagetoolbar" content="no">
        <meta http-equiv="pragma" content="cache">
        <meta http-equiv="cache-control" content="cache">
        <meta http-equiv="vary" content="content-language">
        <meta http-equiv="Cache-control" content="max-age=2592000, public">
        <meta http-equiv="content-style-type" content="text/css">
        <link rel="stylesheet" type="text/css" href="https://marlysson.github.io/theme/css/screen.min.css">
        
        <!-- <link rel="stylesheet" type="text/css" href="https://marlysson.github.io/theme/css/highlight.min.css">
         -->

        <!-- Code highlight color scheme -->
            <link href="https://marlysson.github.io/theme/css/code_blocks/monokai.css" rel="stylesheet">

        <link rel="stylesheet" type="text/css" href="https://marlysson.github.io/theme/css/custom.min.css">

        <link rel="stylesheet" type="text/css" href="https://marlysson.github.io/theme/css/custom_style.css">

        <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <link rel="publisher" href="">
        <link rel="apple-touch-startup-image" href="https://marlysson.github.io/theme/images/logo.png">
        <link type="text/plain" rel="socialmedia" href="https://marlysson.github.io/socialmedia.txt">
        <link rel="dns-prefetch" href="https://marlysson.github.io"/>
        <link rel="dns-prefetch" href="//www.gstatic.com"/>
        <link rel="dns-prefetch" href="//fonts.gstatic.com"/>
        <link rel="dns-prefetch" href="//fonts.googleapis.com"/>
        <link rel="dns-prefetch" href="//accounts.google.com"/>
        <link rel="dns-prefetch" href="//ssl.google-analytics.com"/>
        <link rel="dns-prefetch" href="//www.google-analytics.com"/>
        <link rel="dns-prefetch" href="//googleads.g.doubleclick.net"/>
        <link rel="dns-prefetch" href="//pagead2.googlesyndication.com"/>
        <link rel="dns-prefetch" href="//twemoji.maxcdn.com"/>
        <link rel="dns-prefetch" href="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"/>
        <link rel="dns-prefetch" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400"/>
        <meta http-equiv="content-type" content="text/html;charset=utf-8">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <meta name="application-name" content="Daily Development"/>
        <meta name="msapplication-starturl" content="http:https://marlysson.github.io"/>
        <meta name="msapplication-tooltip" content="Blog para compartilhamento dos estudos que fizer ao longo da jornada de desenvolvedor"/>
        <meta name="msapplication-window" content="width=1024;height=768"/>
        <meta name="msapplication-task" content="name=Daily Development;action-uri=http:https://marlysson.github.io;icon-uri=https://marlysson.github.io/theme/images/logo.png"/>
        <meta name="msapplication-TileImage" content="https://marlysson.github.io/theme/images/apple-touch-icon-144x144.png"/>
        <meta name="msapplication-TileColor" content="#1F1F21"/>
        <meta name="application-name" content="Daily Development">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320"/>
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="google-site-verification" content="">
        <meta name="alexaVerifyID" content=""/>
        <meta name="wot-verification" content=""/>
        <meta name="msvalidate.01" content="" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta name="medium" content="mult">
        <meta name="adblock" content="disable">
        <meta name="rating" content="General">
        <meta name="resource-type" content="document">
        <meta name="revisit-after" content="1 days">
        <meta name="revisit" content="1">
        <meta name="robots" content="index,follow">
        <meta name="no-email-collection" content="http://www.unspam.com/noemailcollection/">
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@">
        <meta property="og:site_name" content="Daily Development">
        <meta property="og:locale" content="pt">
        <link rel="canonical" href="https://marlysson.github.io/python-properties-e-encapsulamento-na-orientacao-a-objetos.html">
        <meta property="og:type" content="article">
        <meta property="og:title" content="Properties em Python ... como fazer encapsulamento pythônico">
        <meta property="og:url" content="python-properties-e-encapsulamento-na-orientacao-a-objetos.html">
        <meta property="og:description" content="Um tópico bastante interessante (porém curto) na orientação a objetos no Python são as properties. Elas são responsáveis por encapsular o acesso à variáveis das nossas classes, fazendo assim um design de classes mais completo, onde você pode ter algum processamento interno e só expor o que é adequado nas API&#39;s públicas de suas classes. Então vamos lá entender o que são elas e como usá-las.">
        <meta property="article:published_time" content="domingo, julho 23, 2017">
        <meta name="twitter:title" content="Properties em Python ... como fazer encapsulamento pythônico">
        <meta name="twitter:description" content="Um tópico bastante interessante (porém curto) na orientação a objetos no Python são as properties. Elas são responsáveis por encapsular o acesso à variáveis das nossas classes, fazendo assim um design de classes mais completo, onde você pode ter algum processamento interno e só expor o que é adequado nas API&#39;s públicas de suas classes. Então vamos lá entender o que são elas e como usá-las.">
        <meta name="description" content="Um tópico bastante interessante (porém curto) na orientação a objetos no Python são as properties. Elas são responsáveis por encapsular o acesso à variáveis das nossas classes, fazendo assim um design de classes mais completo, onde você pode ter algum processamento interno e só expor o que é adequado nas API&#39;s públicas de suas classes. Então vamos lá entender o que são elas e como usá-las.">
        <meta name="twitter:creator" content="@">
        <meta property="og:image" content="https://marlysson.github.io/theme/images/logo.png">
        <meta name="twitter:image" content="https://marlysson.github.io/theme/images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="300">
        <meta property="og:image:height" content="300">
        <meta property="article:section" content="misc">
        <meta property="article:tag" content="Python">
        <meta property="article:tag" content="Boas Práticas">
        <meta property="article:tag" content="Orientação a Objetos">
        <meta property="article:author" content="Marlysson Silva">
        <script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', '77759048', 'auto');ga('send', 'pageview');var _qevents = _qevents || [];setTimeout(function() { window.onscroll = function() { window.onscroll = null;
        ga('send','event','Ajuste de Tasa de Rebote','Scroll despues de 5 segundos');}}, 5000);</script>
        <script src="//twemoji.maxcdn.com/twemoji.min.js"></script>
    </head>
    <body class="post-template nav-closed" itemscope itemtype="http://schema.org/WebPage">
        <meta itemprop="name" content="Daily Development">
        <meta itemprop="url" content="https://marlysson.github.io">
        <meta itemprop="headline" content="Daily Development || Blog para compartilhamento dos estudos que fizer ao longo da jornada de desenvolvedor">
        <meta itemprop="description about" content="">
        <meta itemprop="keywords" content="">
        <meta itemprop="inLanguage" content="pt">

<nav class="nav">

    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Fechar</span>
    </a>
    <ul role="menubar">
        <li class="" role="presentation"><a  href="https://marlysson.github.io/index.html" title="Daily Development" itemprop="name" itemprop="significantLink">Home</a></li>
            <li role="presentation"><a  href="http://www.github.com/Marlysson" title="Github" itemprop="name" itemprop="significantLink">Github</a></li>
            <li role="presentation"><a  href="http://www.facebook.com/marlysson7" title="Facebook" itemprop="name" itemprop="significantLink">Facebook</a></li>
            <li role="presentation"><a  href="http://www.twitter.com/marlysson10" title="Twitter" itemprop="name" itemprop="significantLink">Twitter</a></li>
        <li class="" role="presentation"><a  href="https://marlysson.github.io/archives.html" title="Daily Development | Archives" itemprop="name" itemprop="significantLink">Arquivos</a></li>
        
        <!--            <li class="" role="presentation"><a  href="https://marlysson.github.io/category/misc.html" title="Daily Development |" itemprop="name" itemprop="significantLink">misc</a></li>
-->
    </ul>
    
</nav>
<span class="nav-cover"></span>        <div class="site-wrapper">

            <header class="main-header post-head" style="background: #3498db;" itemscope itemtype="http://schema.org/WPHeader">

                <div class="vertical">
                    <div class="main-header-content inner">
                        <h1 class="page-title" itemprop="headline">Properties em Python ... como fazer encapsulamento pythônico</h1>
                        <section class="post-meta">
                            <time class="post-date" itemprop="datePublished" datetime="2017YYY-20M-%DD" style="text-decoration:none;color: #EEEEEE">domingo, 23 de julho de 2017</time>
                            <span class="post-meta-content">em</span> 
<a href="tag/python.html" style="text-decoration:none;color: #EEEEEE">python, </a><a href="tag/boas-praticas.html" style="text-decoration:none;color: #EEEEEE">boas práticas, </a><a href="tag/orientacao-a-objetos.html" style="text-decoration:none;color: #EEEEEE">orientação a objetos</a>                        </section>
                    </div>
                </div>


                <nav class="main-nav overlay clearfix">
                   <!-- <a class="back-button icon-arrow-left" href="https://marlysson.github.io/index.html">Home</a> -->
                    <a class="blog-logo" href="https://marlysson.github.io" style="text-decoration:none;color: rgb(255, 255, 255)">
                      <span class="back-button icon-arrow-left"></span>
                      <span class="word">HOME</span>
                    </a>
                    <a class="menu-button" href="#">
                        <span class="burger">&#9776;</span>
                        <span class="word">Menu</span>
                    </a>

                </nav>
                <div class="vertical">
                    <div class="main-header-content inner initial-page">
<!--<h1 class="page-title"><a href="https://marlysson.github.io/index.html" style="text-decoration:none;color: rgb(255, 255, 255)">Daily Development</a></h1>
<h2 class="page-description" itemprop="description">Blog para compartilhamento dos estudos que fizer ao longo da jornada de desenvolvedor</h2>-->
                    </div>
                </div>
            </header>
<main id="content" class="content" role="main">
    <article class="post" itemscope="" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">


        <!--<header class="post-header">
            <h1 class="post-title" itemprop="headline">Properties em Python ... como fazer encapsulamento pythônico</h1>
            <section class="post-meta">
                <time class="post-date" itemprop="datePublished" datetime="2017YYY-20M-%DD">domingo, 23 de julho, 2017</time>
                em <a href="tag/python.html">Python, </a><a href="tag/boas-praticas.html">Boas Práticas, </a><a href="tag/orientacao-a-objetos.html">Orientação A Objetos</a>            </section>
        </header>-->

        <section class="post-content">
            <p>Na orientação a objetos no Python há alguns aspectos diferentes do tradicional apresentado em outras linguagens OO, mas nem por isso é algo para se espantar, vai de acordo com a filosofia de cada linguagem.</p>
<p>No Python todos os atributos de classe são públicos naturalmente, uma crítica que vejo muito é que não tem como restringir o acesso externo ao conteúdo das nossas classes, se valendo pelos modificadores de acesso : <code>private</code>, <code>protected</code> e <code>public</code>, e por isso não tem uma boa orientação a objetos( usando como parâmetro a que é ensinada no Java por exemplo , com tudo explícitamente exposto para o programador ali na tela.)</p>
<p>Mas como em linguagens de programação nem todas as features são feitas iguais, veremos a forma que o Python trata sua orientação a objetos no caso do encapsulamento.</p>
<h3>Implementação Java-like do encapsulamento</h3>
<p>Eu mesmo quando estava estudando Java e estava em transição para Python já usei essa forma de encapsulamento, ou seja, usava os famosos <code>get_</code>e <code>set_</code> para acessar e definir os valores dos atributos da classe.</p>
<p>Então, com esse tipo implementado no Python usamos o que é mostrado tradicionamente por meio do <code>get</code> e <code>set</code> . .. vamos à um exemplo:</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Cupom</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nome</span><span class="p">,</span><span class="n">desconto</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nome</span> <span class="o">=</span> <span class="n">nome</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">desconto</span> <span class="o">=</span> <span class="n">desconto</span>

    <span class="k">def</span> <span class="nf">getNome</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">nome</span>

    <span class="k">def</span> <span class="nf">setNome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nome</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nome</span> <span class="o">=</span> <span class="n">nome</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

    <span class="c1"># E por ai vai para os outros atributos</span>
</pre></div>


<p>E na aplicação:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">cupom</span> <span class="o">=</span> <span class="n">Cupom</span><span class="p">(</span><span class="s2">&quot;viva10&quot;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">cupom</span><span class="o">.</span><span class="n">getNome</span><span class="p">())</span>
<span class="n">VIVA10</span>
</pre></div>


<p>Convenhamos que fazer isso sendo que não há nenhuma implementação diferente de retorno e nem de definição de valores é meio overhead de código, ainda mais no Python onde a atribuição e definição pode ser feita do modo:</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Cupom</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nome</span><span class="p">,</span><span class="n">codigo</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nome</span> <span class="o">=</span> <span class="n">nome</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">codigo</span> <span class="o">=</span> <span class="n">codigo</span>
</pre></div>


<p>E na aplicação:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">cupom</span> <span class="o">=</span> <span class="n">Cupom</span><span class="p">(</span><span class="s2">&quot;viva10&quot;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">cupom</span><span class="o">.</span><span class="n">nome</span><span class="p">)</span>
<span class="n">VIVA10</span>
</pre></div>


<p>Mais limpo e intuitivo.</p>
<h3>Afinal o que são properties</h3>
<p>Isso foi para introduzir como é feito o acesso controlado à atributos da classe... agora vamos ver o conceito que o Python tem para fazer esse acesso controlado.</p>
<p>Bom, a "property" é um recurso que é responsável por realizar o acesso, a definição e a deleção em memória de atributos da classe. Ela é responsável por fazer todo o tratamento de acesso à dados internos de objetos... perfeito como alternativa para os <code>gets</code> e <code>sets</code> . E sua assinatura é da seguinte forma:</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">property</span><span class="p">(</span><span class="n">fget</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fset</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">fdel</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span><span class="n">doc</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>


<p>Com isso, sabemos que nossas funções de <code>get</code> e <code>set</code> podemos colocá-las nos parâmetros da property e assim acessar da maneira pythônica os atributos ( como se fossem públicos ) , mas internamente sendo feito algum tratamento .. </p>
<blockquote>
<p>Lembrando: Você não deve colocar property para todos os seus atributos ... se eles não precisam validar algum valor ou retornar algo formatado não há necessidade de fazer todo esse overhead para somente ter esse arcabouço de ferramentas. Sempre bom senso.</p>
</blockquote>
<p>Um exemplo usando o Cupom passado seria da seguinte forma:</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Cupom</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nome</span><span class="p">,</span><span class="n">desconto</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_nome</span> <span class="o">=</span> <span class="n">nome</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_desconto</span> <span class="o">=</span> <span class="n">desconto</span>

    <span class="k">def</span> <span class="nf">getNome</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nome</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

    <span class="n">nome</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">fget</span><span class="o">=</span><span class="n">getNome</span><span class="p">)</span>
</pre></div>


<p>E na aplicação:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">cupom</span> <span class="o">=</span> <span class="n">Cupom</span><span class="p">(</span><span class="s2">&quot;viva10&quot;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">cupom</span><span class="o">.</span><span class="n">nome</span>
<span class="n">VIVA10</span>
</pre></div>


<blockquote>
<p>Foi usado um <em>underscore</em> por convenção no início do atributo <code>nome</code> para indicar que ele não será usado na sua forma integral na api da classe que será exposta para terceiros... ele passará por alguns processamentos antes de sua exposição.</p>
</blockquote>
<p>Está mais pythônico, mas ainda sim tem aqueles get's ali né... A nossa segunda forma de usar as property é usando-as como um <a href="https://www.Python.org/dev/peps/pep-0318/">decorator</a>.. Usando-as dessa forma basicamente será uma anotação acima de uma função que se comportará como um novo atributo da classe, e internamente terá todo o processamento.</p>
<p>Usando-as como decorators temos as seguintes possibilidades:</p>
<div class="highlight"><pre><span></span><span class="nd">@property</span>
<span class="nd">@property.getter</span>
<span class="nd">@property.setter</span>
<span class="nd">@property.deleter</span>
</pre></div>


<p>Cada uma indicando qual é a forma de acesso ao atributo. O primeiro decorator será usado para definir qual atributo será "mapeado" para uma property.</p>
<h4>Passos para criar uma property</h4>
<ul>
<li>Anotar um método qualquer com a anotação <code>@property</code> e nesse método retornar o atributo que deseja ser tratado.</li>
<li>Se necessário criar as outras anotações de definição ou obtenção do atributo. Essas anotações ( getter , setter e deleter) deverão ser usadas com relação à property criada.</li>
</ul>
<h3>Vamos à um exemplo.</h3>
<p>Dessa vez vou mostrar que cada operação sobre um atributo anotado com property é capturado internamente pelo Python, assim podemos tratá-los como bem entendermos.</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Cupom</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nome</span><span class="p">,</span><span class="n">desconto</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_nome</span> <span class="o">=</span> <span class="n">nome</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_desconto</span> <span class="o">=</span> <span class="n">desconto</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">nome</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Obtendo o valor do atributo nome&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nome</span>

    <span class="nd">@nome.setter</span>
    <span class="k">def</span> <span class="nf">nome</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">valor_do_nome_recebido</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Capturando a definição de um atributo&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_nome</span> <span class="o">=</span> <span class="n">valor_do_nome_recebido</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>

    <span class="c1"># Se necessário haveria para os outros atributos</span>
</pre></div>


<p>Na aplicação</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span><span class="n">c</span> <span class="o">=</span> <span class="n">Cupom</span><span class="p">(</span><span class="s2">&quot;viva10&quot;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">nome</span><span class="p">)</span>
<span class="n">Obtendo</span> <span class="n">o</span> <span class="n">valor</span> <span class="n">do</span> <span class="n">atributo</span> <span class="n">nome</span>
<span class="n">viva10</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">nome</span> <span class="o">=</span> <span class="s2">&quot;cupom10&quot;</span>
<span class="n">Capturando</span> <span class="n">a</span> <span class="n">definição</span> <span class="n">de</span> <span class="n">um</span> <span class="n">atributo</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pint</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">nome</span><span class="p">)</span>
<span class="n">Obtendo</span> <span class="n">o</span> <span class="n">valor</span> <span class="n">do</span> <span class="n">atributo</span> <span class="n">nome</span>
<span class="n">CUPOM10</span>
</pre></div>


<blockquote>
<p>Repare que no setter foi referenciado a property criada anteriormente. Sempre que for usar uma operação de property deverá ser com relação à uma property nomeada anteriormente e que mapeia seu acesso para um atributo da classe.</p>
</blockquote>
<p>Nesse ponto do nosso conhecimento de properties temos pleno controle sobre nossos dados, tanto sobre o que entra como definição, quanto o que sai como processamento dos nossos dados... e tudo isso sem deixar de lado a simplicidade da sintaxe externa do Python que é o melhor...todo o processsamento ocorrendo internamente, sem o <em>cliente</em> ter conhecimento interno da nossa implementação.</p>
<p>Para um exemplo mais prático vamos fazer com que não seja possível definir um desconto em formato de string, os formatos permitidos serão somente <code>int</code> ou <code>float</code> , logicamente. Vamos lá.</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Cupom</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nome</span><span class="p">,</span><span class="n">desconto</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_nome</span> <span class="o">=</span> <span class="n">nome</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_desconto</span> <span class="o">=</span> <span class="n">desconto</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">desconto</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_desconto</span>

    <span class="nd">@desconto.setter</span>
    <span class="k">def</span> <span class="nf">desconto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">valor_desconto</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">valor_desconto</span><span class="p">,(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Valor inválido, somente inteiros ou decimais&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_desconto</span> <span class="o">=</span> <span class="n">valor_desconto</span>
</pre></div>


<p>E na aplicação:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="n">Cupom</span><span class="p">(</span><span class="s2">&quot;viva10&quot;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">desconto</span><span class="p">)</span>
<span class="mi">10</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">desconto</span> <span class="o">=</span> <span class="s2">&quot;10&quot;</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;property.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">20</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">c</span><span class="o">.</span><span class="n">desconto</span> <span class="o">=</span> <span class="s2">&quot;cupom10&quot;</span>
  <span class="n">File</span> <span class="s2">&quot;property.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">14</span><span class="p">,</span> <span class="ow">in</span> <span class="n">desconto</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Valor inválido, somente inteiros ou decimais&quot;</span><span class="p">)</span>
<span class="ne">ValueError</span><span class="p">:</span> <span class="n">Valor</span> <span class="n">não</span> <span class="n">permitido</span><span class="p">,</span> <span class="n">somente</span> <span class="n">inteiros</span> <span class="n">ou</span> <span class="n">decimais</span>
</pre></div>


<p>E voilà... mantemos nossa API simples para quem usará, e ao mesmo tempo fizemos um encapsulamento adequado do que ocorre dentro da nossa classe, assim escondendo detalhes de implementação.</p>
<p>E é isso pessoal , o uso de property e conseqüentemente como fazer o encapsulamento adequado em OO-Python.</p>
<p>Até o próximo post... Se quiserem sugerir algum tópico só comentar.</p>
        </section>
        <footer class="post-footer">
            <figure class="author-image">
                <a class="img" href="author/marlysson-silva.html" style="background-image: url('staticfiles/perfil.jpg')"><span class="hidden">Marlysson Silva's Picture</span></a>
            </figure>
            <section class="author">
                <h4>
                    <a href="author/marlysson-silva.html">Marlysson Silva</a>
                </h4>
                <p>Graduando em Análise e Desenvolvimento de Sistemas , programador interessado nas vastas possibilidades de desenvolvimento, seja web(frontend ou backend) ou envolvendo cálculos de processamento. Além de desenvolvimento web tenho interesse na junção informática + processamento , seja usando algoritmos elementares ou usando o auxílio da matemática e estatística, hora ou outra postarei algo a respeito :D </p>
                <div class="author-meta">
                    <span class="author-location icon-location">Piauí - Brasil</span>


                        <span class="icon-link">  
                        <a target="_blank" href="http://www.github.com/Marlysson">Github</a>
                        </span>


                        <span class="icon-link">  
                        <a target="_blank" href="http://www.facebook.com/marlysson7">Facebook</a>
                        </span>


                        <span class="icon-link">  
                        <a target="_blank" href="http://www.twitter.com/marlysson10">Twitter</a>
                        </span>


                </div>
            </section>
            <section class="share">
                <h4>Compartilhe esse post</h4>
                <a class="icon-twitter" href="https://twitter.com/share?text=Properties%20em%20Python%20...%20como%20fazer%20encapsula...%20via%20%40&amp;url=https://marlysson.github.io/python-properties-e-encapsulamento-na-orientacao-a-objetos.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://marlysson.github.io/python-properties-e-encapsulamento-na-orientacao-a-objetos.html" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://marlysson.github.io/python-properties-e-encapsulamento-na-orientacao-a-objetos.html" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
            
            <script type="text/x-mathjax-config">
                    MathJax.Hub.Config({
                      tex2jax: {inlineMath: [['$','$']]}
                    });
            </script>

            <script type="text/javascript" async
              src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
            </script>

<section>
<h2>Comentários</h2>
<div id="disqus_thread"></div>
<script type="text/javascript">var disqus_identifier = "python-properties-e-encapsulamento-na-orientacao-a-objetos.html";(function(){var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//marlyssondev.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script>
</section>        </footer>
    </article>
</main>
<aside class="read-next">
    <a class="read-next-story prev" style="background-image: url('')" href="https://marlysson.github.io/o-que-voce-precisa-saber-sobre-ambientes-virtuais.html">
        <section class="post">
            <h2>O que você precisa saber para iniciar com Ambientes Virtuais</h2>
            <p><p>Nos dias atuais com o Python servindo para vários proprósitos fica difícil trabalhar com projetos de diversos seguimentos sem gerenciar todas as duas dependências, e ainda mais quem for iniciante no python e está querendo organizar seus projetos. Nesse posto pretendo explicar o necessário para você saber trabalhar com ambientes virtuais mais tranquilamente e sanar dúvidas que ainda existam.</p></p>
        </section>
    </a>
</aside>            <footer class="site-footer clearfix" role="contentinfo" itemscope itemtype="http://schema.org/WPFooter">
                    Orgulhosamente publicado usando
                    <a itemprop="url" href="https://getpelican.org" target="_blank">Pelican</a> provido pelo <a itemprop="url" href="https://python.org" target="_blank">Python</a> e usando o tema <a itemprop="url" target="_blank" href="https://github.com/mstuttgart/casper-pelican-theme" >Casper Pelican Theme</a>
            </footer>
        </div>
    <script type="text/javascript" src="https://marlysson.github.io/theme/js/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="https://marlysson.github.io/theme/js/jquery.fitvids.min.js"></script>
    <script type="text/javascript" src="https://marlysson.github.io/theme/js/index.min.js"></script>
    <script>twemoji.parse(document, {"size":16});</script>

    <script type="text/javascript">
        
        (function(h,o,t,j,a,r){
            h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
            h._hjSettings={hjid:420629,hjsv:5};
            a=o.getElementsByTagName('head')[0];
            r=o.createElement('script');r.async=1;
            r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
            a.appendChild(r);
        })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
        
    </script>

    </body>
</html>